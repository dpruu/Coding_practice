# 스타 수열

## 문제 설명

다음과 같은 것들을 정의합니다.

- 어떤 수열 x의 [부분 수열(Subsequence)](https://en.wikipedia.org/wiki/Subsequence)이란, x의 몇몇 원소들을 제거하거나 그러지 않고 남은 원소들이 원래 순서를 유지하여 얻을 수 있는 새로운 수열을 말합니다.
  - 예를 들어, `[1,3]`은 `[1,2,3,4,5]`의 부분수열입니다. 원래 수열에서 2, 4, 5를 제거해서 얻을 수 있기 때문입니다.
- 다음과 같은 조건을 모두 만족하는 수열 x를 **스타 수열**이라고 정의합니다.
  - x의 길이가 2 이상의 짝수입니다. (빈 수열은 허용되지 않습니다.)
  - x의 길이를 2n이라 할 때, 다음과 같은 n개의 집합 `{x[0], x[1]}, {x[2], x[3]}, ..., {x[2n-2], x[2n-1]}` 의 교집합의 원소의 개수가 1 이상입니다.
  - `x[0] != x[1], x[2] != x[3], ..., x[2n-2] != x[2n-1]` 입니다.
  - 예를 들어, `[1,2,1,3,4,1,1,3]`은 스타 수열입니다. `{1,2}, {1,3}, {4,1}, {1,3}` 의 교집합은 `{1}` 이고, 각 집합 내의 숫자들이 서로 다르기 때문입니다.

1차원 정수 배열 a가 매개변수로 주어집니다. a의 모든 부분 수열 중에서 가장 길이가 긴 스타 수열의 길이를 return 하도록 solution 함수를 완성해주세요. 이때, a의 모든 부분 수열 중에서 스타 수열이 없다면, 0을 return 해주세요.

------

### 제한사항

- a의 길이는 1 이상 500,000 이하입니다.
  - a의 모든 수는 0 이상 (a의 길이) 미만입니다.

------

#### 입출력 예

| a                       | result |
| ----------------------- | ------ |
| `[0]`                   | 0      |
| `[5,2,3,3,5,3]`         | 4      |
| `[0,3,3,0,7,2,0,2,2,0]` | 8      |

------

##### 입출력 예 설명

입출력 예 #1

- a의 부분 수열 중에서 주어진 조건을 모두 만족하는 스타 수열이 없으므로, 0을 return 해야 합니다.

입출력 예 #2

- `[5,2,5,3]`, `[5,3,3,5]` 는 a의 부분 수열인 동시에 스타 수열입니다. a의 부분 수열 중 이보다 더 긴 스타 수열은 없으므로, 4를 return 해야 합니다.

입출력 예 #3

- `[0,3,3,0,7,0,2,0]` 는 a의 부분 수열인 동시에 스타 수열입니다. a의 부분 수열 중 이보다 더 긴 스타 수열은 없으므로, 8을 return 해야 합니다.

---

## 문제 풀이

스타 수열을 만족하기 위해서는 길이가 2인 n개의 집합의 교집합은 1개이며, 같은 원소는 존재하지 않아야한다. 즉 부분 수열 a를 길이 2의 수열로 나누었을 때 공통적으로 원소 하나가 존재하는지 확인하며, 두 원소가 같지 않아야 한다. 

해당 조건을 만족하는지 확인하기 위해 `Counter` 함수를 이용한다. `Counter`는 a의 각 원소가 몇번 입력되어 있는지 빠르게 확인가능하다. `Counter`를 이용해 만든 `seq`의 key값을 반복구문을 이용해 하나씩 확인한다. 예제#2를 예시로 보면

1. `seq = Counter({3: 5, 5: 2, 2: 1}) `로 `i`는 스타 수열의 교집합 원소를 의미하며 5부터 시작한다.`a[0]`,`a[1]`은 각각 5와 2로 둘 중 한 원소는 i이며, 같은 값이 아니기 때문에 스타 수열 조건을 만족하기 때문에 다음 index 값으로 넘어가며, 스타 수열의 길이는 최대 2가 된다.
2. idx 값은 2로 `a[2]`, `a[3]`은 3,3으로 두 원소는 같기 때문에 스타 수열의 조건을 만족하지 못해 조건문에 의해 idx 값을 1 증가 시켜 다음 2개의 원소를 확인한다.
3. idx 값은 3으로  `a[3]`,`a[4]`는 3,5로 `a[4]`가 5, 두 원소가 다르므로 스타 수열의 조건을 만족해 인덱스 값과 스타 수열의 최대 길이는 2씩 증가한다. 스타 수열 `[5,2,3,5]`
4. 길이 2씩 확인해야 하므로 idx 값이 (a길이 -1) 보다 크거나 같으면 반복을 종료한다.
5. `answer`와 i = 5일때 최소 스타 수열의 길이 중 더 큰값을 `answer`에 저장
6. `Counter`의 키 값마다 앞의 2 ~ 5의 과정을 반복한다. 이때 `seq[i]`를 통해서 스타수열의 교집합 값이 입력되는 횟수 * 2가 앞서 구한 스타 수열의 최대 길이보다 작을 경우 문제에서 요구하는 최대 길이가 아니기 때문에 다음 key 값으로 넘어간다. 
   *#2의 경우 i는 5,2,3 순서로 진행되는데 2는 1이기 때문에 바로 3으로 넘어간다.i = 3일때 스타 수열 [2,3,3,5]*

```python
from collections import Counter
def solution(a):
  seq = Counter(a)
  answer = -1
    
  if len(a) == 1:
    return 0

  for i in seq.keys():
    if seq[i]*2 < answer:
      continue
    key_cnt = 0
    idx = 0
    
    while idx < len(a)-1:
      if (a[idx] != i and a[idx+1] != i) or (a[idx] == a[idx+1]):
        idx += 1
        continue 
      key_cnt += 2
      idx += 2
    answer = max(key_cnt, answer)

    return answer 
```





